error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:17:5
   |
LL |     let a = [f(); 0];
   |     ^^^^^^^^^^^^^^^^^
   |
   = note: `-D clippy::zero-repeat-side-effects` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::zero_repeat_side_effects)]`
help: consider performing the side effect separately
   |
LL ~     f();
LL +     let a: [i32; 0] = [];
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:20:5
   |
LL |     b = [f(); 0];
   |     ^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     f();
LL ~     b = [] as [i32; 0];
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:25:5
   |
LL |     let c = vec![f(); 0];
   |     ^^^^^^^^^^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     f();
LL +     let c: std::vec::Vec<i32> = vec![];
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:28:5
   |
LL |     d = vec![f(); 0];
   |     ^^^^^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     f();
LL ~     d = vec![] as std::vec::Vec<i32>;
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:32:5
   |
LL |     let e = [println!("side effect"); 0];
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     println!("side effect");
LL +     let e: [(); 0] = [];
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:36:5
   |
LL |     let g = [{ f() }; 0];
   |     ^^^^^^^^^^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     { f() };
LL +     let g: [i32; 0] = [];
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:40:10
   |
LL |     drop(vec![f(); 0]);
   |          ^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     drop({
LL +         f();
LL +         vec![] as std::vec::Vec<i32>
LL ~     });
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:44:5
   |
LL |     vec![f(); 0];
   |     ^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     f();
LL ~     vec![] as std::vec::Vec<i32>;
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:46:5
   |
LL |     [f(); 0];
   |     ^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     f();
LL ~     [] as [i32; 0];
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:100:10
   |
LL |     foo(&[Some(f()); 0]);
   |          ^^^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     foo(&{
LL +         Some(f());
LL +         [] as [std::option::Option<i32>; 0]
LL ~     });
   |

error: expression with side effects as the initial value in a zero-sized array initializer
  --> tests/ui/zero_repeat_side_effects.rs:102:10
   |
LL |     foo(&[Some(Some(S::new())); 0]);
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: consider performing the side effect separately
   |
LL ~     foo(&{
LL +         Some(Some(S::new()));
LL +         [] as [std::option::Option<std::option::Option<S>>; 0]
LL ~     });
   |

error: aborting due to 11 previous errors

