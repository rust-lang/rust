error: memory leaked: ALLOC (Rust heap, size: 4, align: 4), allocated here:
  --> tests/fail/tls_macro_leak.rs:LL:CC
   |
LL |             cell.set(Some(Box::leak(Box::new(123))));
   |                                     ^^^^^^^^^^^^^
   |
   = note: stack backtrace:
           0: main::{closure#0}::{closure#0}
               at tests/fail/tls_macro_leak.rs:LL:CC
           1: std::thread::LocalKey::<std::cell::Cell<std::option::Option<&i32>>>::try_with
               at RUSTLIB/std/src/thread/local.rs:LL:CC
           2: std::thread::LocalKey::<std::cell::Cell<std::option::Option<&i32>>>::with
               at RUSTLIB/std/src/thread/local.rs:LL:CC
           3: main::{closure#0}
               at tests/fail/tls_macro_leak.rs:LL:CC

note: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace

note: set `MIRIFLAGS=-Zmiri-ignore-leaks` to disable this check

error: aborting due to 1 previous error

