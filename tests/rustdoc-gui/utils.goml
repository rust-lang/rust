// This file contains code to be re-used by other tests.
define-function: (
    "switch-theme",
    [theme],
    block {
        // Set the theme.
        // Open the settings menu.
        click: "rustdoc-toolbar .settings-menu"
        // Wait for the popover to appear...
        wait-for: "#settings"
        // Change the setting.
        click: "#theme-"+ |theme|
        // Close the popover.
        click: "rustdoc-toolbar .settings-menu"
        // Ensure that the local storage was correctly updated.
        assert-local-storage: {"rustdoc-theme": |theme|}
    },
)

define-function: (
    "switch-theme-mobile",
    [theme],
    block {
        // Set the theme.
        // Open the settings menu.
        click: "rustdoc-topbar .settings-menu"
        // Wait for the popover to appear...
        wait-for: "#settings"
        // Change the setting.
        click: "#theme-"+ |theme|
        // Close the popover.
        click: "rustdoc-topbar .settings-menu"
        // Ensure that the local storage was correctly updated.
        assert-local-storage: {"rustdoc-theme": |theme|}
    },
)
