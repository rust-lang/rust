- // MIR for `drop` before Inline
+ // MIR for `drop` after Inline
  
  fn drop(_1: *mut Vec<A>, _2: *mut Option<B>) -> () {
      debug a => _1;                       // in scope 0 at $DIR/inline_shims.rs:+0:19: +0:20
      debug b => _2;                       // in scope 0 at $DIR/inline_shims.rs:+0:35: +0:36
      let mut _0: ();                      // return place in scope 0 at $DIR/inline_shims.rs:+0:54: +0:54
      let _3: ();                          // in scope 0 at $DIR/inline_shims.rs:+1:14: +1:40
      let mut _4: *mut std::vec::Vec<A>;   // in scope 0 at $DIR/inline_shims.rs:+1:38: +1:39
      let mut _5: *mut std::option::Option<B>; // in scope 0 at $DIR/inline_shims.rs:+2:38: +2:39
      scope 1 {
+         scope 3 (inlined std::ptr::drop_in_place::<Vec<A>> - shim(Some(Vec<A>))) { // at $DIR/inline_shims.rs:11:14: 11:40
+             let mut _6: &mut std::vec::Vec<A>; // in scope 3 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+             let mut _7: ();              // in scope 3 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+         }
      }
      scope 2 {
+         scope 4 (inlined std::ptr::drop_in_place::<Option<B>> - shim(Some(Option<B>))) { // at $DIR/inline_shims.rs:12:14: 12:40
+             let mut _8: isize;           // in scope 4 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+             let mut _9: isize;           // in scope 4 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+         }
      }
  
      bb0: {
          StorageLive(_3);                 // scope 0 at $DIR/inline_shims.rs:+1:5: +1:42
          StorageLive(_4);                 // scope 1 at $DIR/inline_shims.rs:+1:38: +1:39
          _4 = _1;                         // scope 1 at $DIR/inline_shims.rs:+1:38: +1:39
-         _3 = std::ptr::drop_in_place::<Vec<A>>(move _4) -> [return: bb1, unwind unreachable]; // scope 1 at $DIR/inline_shims.rs:+1:14: +1:40
+         StorageLive(_6);                 // scope 1 at $DIR/inline_shims.rs:+1:14: +1:40
+         StorageLive(_7);                 // scope 1 at $DIR/inline_shims.rs:+1:14: +1:40
+         _6 = &mut (*_4);                 // scope 3 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+         _7 = <Vec<A> as Drop>::drop(move _6) -> [return: bb2, unwind unreachable]; // scope 3 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
                                           // mir::Constant
-                                          // + span: $DIR/inline_shims.rs:11:14: 11:37
-                                          // + literal: Const { ty: unsafe fn(*mut Vec<A>) {std::ptr::drop_in_place::<Vec<A>>}, val: Value(<ZST>) }
+                                          // + span: $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+                                          // + literal: Const { ty: for<'a> fn(&'a mut Vec<A>) {<Vec<A> as Drop>::drop}, val: Value(<ZST>) }
      }
  
      bb1: {
+         StorageDead(_7);                 // scope 1 at $DIR/inline_shims.rs:+1:14: +1:40
+         StorageDead(_6);                 // scope 1 at $DIR/inline_shims.rs:+1:14: +1:40
          StorageDead(_4);                 // scope 1 at $DIR/inline_shims.rs:+1:39: +1:40
          StorageDead(_3);                 // scope 0 at $DIR/inline_shims.rs:+1:41: +1:42
          StorageLive(_5);                 // scope 2 at $DIR/inline_shims.rs:+2:38: +2:39
          _5 = _2;                         // scope 2 at $DIR/inline_shims.rs:+2:38: +2:39
-         _0 = std::ptr::drop_in_place::<Option<B>>(move _5) -> [return: bb2, unwind unreachable]; // scope 2 at $DIR/inline_shims.rs:+2:14: +2:40
-                                          // mir::Constant
-                                          // + span: $DIR/inline_shims.rs:12:14: 12:37
-                                          // + literal: Const { ty: unsafe fn(*mut Option<B>) {std::ptr::drop_in_place::<Option<B>>}, val: Value(<ZST>) }
+         StorageLive(_8);                 // scope 2 at $DIR/inline_shims.rs:+2:14: +2:40
+         StorageLive(_9);                 // scope 2 at $DIR/inline_shims.rs:+2:14: +2:40
+         _8 = discriminant((*_5));        // scope 4 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+         switchInt(move _8) -> [0: bb3, otherwise: bb4]; // scope 4 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
      }
  
      bb2: {
+         drop(((*_4).0: alloc::raw_vec::RawVec<A>)) -> [return: bb1, unwind unreachable]; // scope 3 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
+     }
+ 
+     bb3: {
+         StorageDead(_9);                 // scope 2 at $DIR/inline_shims.rs:+2:14: +2:40
+         StorageDead(_8);                 // scope 2 at $DIR/inline_shims.rs:+2:14: +2:40
          StorageDead(_5);                 // scope 2 at $DIR/inline_shims.rs:+2:39: +2:40
          return;                          // scope 0 at $DIR/inline_shims.rs:+3:2: +3:2
+     }
+ 
+     bb4: {
+         drop((((*_5) as Some).0: B)) -> [return: bb3, unwind unreachable]; // scope 4 at $SRC_DIR/core/src/ptr/mod.rs:LL:COL
      }
  }
  
