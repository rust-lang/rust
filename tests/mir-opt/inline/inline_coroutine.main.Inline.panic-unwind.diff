- // MIR for `main` before Inline
+ // MIR for `main` after Inline
  
  fn main() -> () {
      let mut _0: ();
      let _1: std::ops::CoroutineState<i32, bool>;
      let mut _2: std::pin::Pin<&mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}>;
      let mut _3: &mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8};
      let mut _4: {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8};
+     let mut _5: bool;
+     let mut _9: *mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8};
+     let mut _10: ();
      scope 1 {
          debug _r => _1;
      }
+     scope 2 (inlined g) {
+     }
+     scope 3 (inlined Pin::<&mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}>::new) {
+         debug pointer => _3;
+         scope 4 (inlined Pin::<&mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}>::new_unchecked) {
+         }
+     }
+     scope 5 (inlined g::{closure#0}) {
+         debug a => _5;
+         let mut _6: &mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8};
+         let mut _7: u32;
+         let mut _8: i32;
+     }
+     scope 6 (inlined drop_in_place::<{coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}> - shim(Some({coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}))) {
+         debug a => _15;
+         let mut _11: bool;
+         let mut _12: i32;
+         let mut _13: bool;
+         let mut _14: bool;
+         let _15: bool;
+         let mut _16: u32;
+     }
  
      bb0: {
          StorageLive(_1);
          StorageLive(_2);
          StorageLive(_3);
          StorageLive(_4);
-         _4 = g() -> [return: bb1, unwind continue];
+         _4 = {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8 (#0)};
+         _3 = &mut _4;
+         _2 = Pin::<&mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}> { pointer: copy _3 };
+         StorageDead(_3);
+         StorageLive(_5);
+         _5 = const false;
+         StorageLive(_6);
+         StorageLive(_7);
+         _6 = copy (_2.0: &mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8});
+         _7 = discriminant((*_6));
+         switchInt(move _7) -> [0: bb4, 1: bb8, 3: bb9, otherwise: bb10];
      }
  
-     bb1: {
-         _3 = &mut _4;
-         _2 = Pin::<&mut {coroutine@$DIR/inline_coroutine.rs:20:5: 20:8}>::new(move _3) -> [return: bb2, unwind: bb5];
+     bb1 (cleanup): {
+         drop(_4) -> [return: bb2, unwind terminate(cleanup)];
      }
  
-     bb2: {
-         StorageDead(_3);
-         _1 = <{coroutine@$DIR/inline_coroutine.rs:20:5: 20:8} as Coroutine<bool>>::resume(move _2, const false) -> [return: bb3, unwind: bb5];
+     bb2 (cleanup): {
+         resume;
      }
  
      bb3: {
+         StorageDead(_7);
+         StorageDead(_6);
+         StorageDead(_5);
          StorageDead(_2);
-         drop(_4) -> [return: bb4, unwind: bb6];
+         StorageLive(_9);
+         _9 = &raw mut _4;
+         StorageLive(_10);
+         StorageLive(_11);
+         StorageLive(_13);
+         StorageLive(_14);
+         StorageLive(_15);
+         StorageLive(_16);
+         _16 = discriminant((*_9));
+         switchInt(move _16) -> [0: bb11, 3: bb12, otherwise: bb11];
      }
  
      bb4: {
+         StorageLive(_8);
+         switchInt(copy _5) -> [0: bb5, otherwise: bb6];
+     }
+ 
+     bb5: {
+         _8 = const 13_i32;
+         goto -> bb7;
+     }
+ 
+     bb6: {
+         _8 = const 7_i32;
+         goto -> bb7;
+     }
+ 
+     bb7: {
+         _1 = CoroutineState::<i32, bool>::Yielded(move _8);
+         StorageDead(_8);
+         discriminant((*_6)) = 3;
+         goto -> bb3;
+     }
+ 
+     bb8: {
+         assert(const false, "coroutine resumed after completion") -> [success: bb8, unwind: bb1];
+     }
+ 
+     bb9: {
+         StorageLive(_8);
+         StorageDead(_8);
+         _1 = CoroutineState::<i32, bool>::Complete(copy _5);
+         discriminant((*_6)) = 1;
+         goto -> bb3;
+     }
+ 
+     bb10: {
+         unreachable;
+     }
+ 
+     bb11: {
+         StorageDead(_16);
+         StorageDead(_15);
+         StorageDead(_14);
+         StorageDead(_13);
+         StorageDead(_11);
+         StorageDead(_10);
+         StorageDead(_9);
          StorageDead(_4);
          _0 = const ();
          StorageDead(_1);
          return;
      }
  
-     bb5 (cleanup): {
-         drop(_4) -> [return: bb6, unwind terminate(cleanup)];
-     }
- 
-     bb6 (cleanup): {
-         resume;
+     bb12: {
+         StorageLive(_12);
+         StorageDead(_12);
+         goto -> bb11;
      }
  }
  
