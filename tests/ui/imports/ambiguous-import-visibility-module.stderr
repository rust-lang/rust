warning: ambiguous import visibility: pub or pub(in crate::reexport)
  --> $DIR/ambiguous-import-visibility-module.rs:18:13
   |
LL |     pub use S as Z;
   |             ^
   |
   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!
   = note: for more information, see issue #149145 <https://github.com/rust-lang/rust/issues/149145>
   = note: ambiguous because of a conflict between a macro-expanded name and a less macro-expanded name from outer scope during import or macro resolution
note: `S` could refer to the struct imported here
  --> $DIR/ambiguous-import-visibility-module.rs:11:17
   |
LL |             use m::S;
   |                 ^^^^
...
LL |     mac!();
   |     ------ in this macro invocation
   = help: use `self::S` to refer to this struct unambiguously
note: `S` could also refer to the struct imported here
  --> $DIR/ambiguous-import-visibility-module.rs:15:13
   |
LL |     pub use m::*;
   |             ^^^^
   = help: use `self::S` to refer to this struct unambiguously
   = note: `#[warn(ambiguous_import_visibilities)]` (part of `#[warn(future_incompatible)]`) on by default
   = note: this warning originates in the macro `mac` (in Nightly builds, run with -Z macro-backtrace for more info)

warning: 1 warning emitted

