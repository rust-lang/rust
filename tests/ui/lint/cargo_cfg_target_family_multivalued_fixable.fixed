// Test fixable suggestions for the `cargo_cfg_target_family_multivalued` lint.

//@ check-pass
//@ exec-env:CARGO_CFG_TARGET_FAMILY=unix
//@ run-rustfix

use std::env;

fn main() {
    let target_family = env::var("CARGO_CFG_TARGET_FAMILY").unwrap();
    let unix = "unix";

    if target_family.split(',').any(|x| x == unix) {}
    //~^ WARN comparing against `CARGO_CFG_TARGET_FAMILY` directly may break in the future

    if !target_family.split(',').any(|x| x == unix) {}
    //~^ WARN comparing against `CARGO_CFG_TARGET_FAMILY` directly may break in the future

    let _ = env::var("CARGO_CFG_TARGET_FAMILY").unwrap().split(',').any(|x| x == "unix");
    //~^ WARN comparing against `CARGO_CFG_TARGET_FAMILY` directly may break in the future
}
