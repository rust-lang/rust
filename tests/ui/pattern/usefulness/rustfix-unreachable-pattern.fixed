//@ run-rustfix
#![feature(never_patterns)]
#![feature(exhaustive_patterns)]
#![expect(incomplete_features, unmustuse_in_always_ok)]
#![deny(unreachable_patterns)]

enum Void {}

#[rustfmt::skip]
fn main() {
    let res: Result<(), Void> = Ok(());
    match res {
        Ok(_) => {}
         //~ ERROR unreachable
         //~ ERROR unreachable
    }

    match res {
        Ok(_x) => {}
         //~ ERROR unreachable
         //~ ERROR unreachable
    }
}
